---
title: IReferencesNullDelete
sidebar: product--sidebar
keywords: DataObject (объекты данных), Flexberry ORM, Public, Бизнес-серверы
toc: true
permalink: ru/i-references-null-delete.html
folder: product--folder
lang: ru
---

# IReferencesNullDelete
В версии после 23.10.2014 в Flexberry добавлен интерфейс `IReferencesNullDelete` (находится в сборке `ICSSoft.STORMNET.Business`). Посредством применения данного интерфейса становится возможным при удалении объекта занулить все ссылки, которые на него ссылаются.

# Как работает IReferencesNullDelete
Логика по занулению ссылок прописана в бизнес-сервере интерфейса `IReferencesNullDelete`, собственных свойств и методов данный интерфейс не предоставляет. Таким образом, чтобы вместе с некоторым объектом удалить все ссылки на него, достаточно, чтобы класс объекта был наследником от `IReferencesNullDelete`.
Поиск классов, которые ссылаются на искомый, осуществляется следующим образом:
1. Определяется директория, где располагается сборка с классом, ссылки на который мы ищем.
2. В директории выбираются все сборки, имя которых заканчивается на «(Objects).dll».
3. В сборках ищутся типы, наследующие от DataObject.
4. В найденных типах определяются свойства, которые содержат ссылку на искомый класс или его прародителей. 

Примечание: если у ссылки на удаляемый объект стоит атрибут [Атрибуты-классов-данных|NotNull], то будет проброшено исключение `PropertyCouldnotBeNullException` и объект не будет удалён.

# Пример
'''Данный пример реализован на [тестовой win-стенде](devprocess_test-applications.html).'''

Пусть у нас есть диаграмма вида:

![](/images/pages/img/page/IReferencesNullDelete/IReferencesNullDelete.png)

На диаграмму добавлен `IReferencesNullDelete` со стереотипом [externalinterface](external-interface.html) , от которого наследуется класс `Plant2` и `Cabbage2`. При удалении экземпляра этого класса будут удаляться также все ссылки на данный объект.
При указанном расположении классов с учётом [наследования](inheritance.html):
1. При удалении экземпляра класса `Plant2` будут проверяться ссылки среди экземпляров классов `Salad2` и `Dish2`.
2. При удалении экземпляра класса `Cabbage2 будут проверяться ссылки среди экземпляров классов `Salad2`, `Dish2`, `CabbageSalad`, `Soup2` (экземпляры класса `CabbagePart2` являются детейлами и будут удаляться).
3. Если удаляемый объект будет стоять, например, в экземпляре класса `Salad2` в свойстве `Ingridient2`, то будет проброшено исключение, поскольку у данного свойства стоит атрибут [Атрибуты-классов-данных|NotNull].


