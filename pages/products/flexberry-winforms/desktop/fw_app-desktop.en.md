---
title: Приложение и рабочий стол
sidebar: flexberry-winforms_sidebar
keywords: Windows UI (формы)
toc: true
permalink: en/fw_app-desktop.html
folder: products/flexberry-winforms/
lang: en
---
## Приложение
Приложение предназначено для запуска настольного варианта системы. Приложение содержит код формы рабочего стола. Форма рабочего стола наследуется от `ICSSoft.STORMNET.Windows.Forms.Desktop`.


Форма рабочего стола предназначена для доработки  и допрограммирования прикладным разработчиком в соответствии с прикладными требованиями.

## Windows-приложение
### Настройка рабочего стола
Рабочий стол представляет из себя следующее (внешний вид, пример):

![](/images/pages/products/flexberry-winforms/desktop/windesktop.png)

В левой части — древовидная структура пунктов меню.

В правой части — список т.н. «стартеров» (Runner) для пункта меню, выбранного в левой части меню.

Программист может настроить состав, расположение и внешний вид пунктов меню, состав и внешний вид стартеров.

Настройка обеспечивается через специальный класс — настройщик рабочего стола, потомок от ICSSoft.STORMNET.UI.DesktopCustomizer. Настройщик рабочего стола устанавливается в свойство `DesktopCustomizer` формы рабочего стола.

Для указания состава стартеров и размещения по пунктам меню, следует перегрузить в настройщике рабочего стола метод `GetRunners()`, возвращающий одномерный массив стартеров `ICSSoft.STORMNET.UI.Runner`.

#### Стартеры
Базовый стартер `ICSSoft.STORMNET.UI.Runner` имеет: 
* Путь по меню, уровни разделяются обратным слешем «\»;
* Заголовок;
* Описание.

Существует несколько специализированных стартёров:
* `ICSSoft.STORMNET.Windows.Forms.FormRunner` — стартер формы, отличающийся от стандартного тем, что имеется свойство — тип формы, которая должна открываться. Соответственно, стартер предназначен для открытия форм. Метод `Run()` перегружен так, что конструирует форму и вызывает метод `Show()`;
* `ICSSoft.STORMNET.UI.ContRunner` — стартер независимого спискового контейнера, одновременно запускающий находящийся в этом контейнере сценарий на исполнение. Имеет свойство — тип контейнера. Метод `Run()` перегружен таким образом, что конструирует контейнер, достаёт сценарий и запускает его на выполнение.
* `ICSSoft.STORMNET.UI.ScriptRunner` — стартер сценария, находящегося в указываемом типе, реализующем интерфейс `Scriptizer.DataObjects.IScripted`. Метод `Run()` перегружен таким образом, что запускает этот сценарий на выполнение.

Разумеется разработчик может реализовать и свои собственные стартеры с целью реализации своей функциональности или изменения базовой в частности, можно перегрузить ряд методов:
* `GetBigImage(), GetImage()` для изменения иконки стартера;
* `Run()` для реализации действия, происходящего при выборе с рабочего стола.

#### Форма
На форме рабочего стола приложения (<ИмяПриложения>Desktop.cs в стартовом проекте) у объекта desktopCtrl2 типа ICSSoft.STORMNET.Windows.Forms.DesktopCtrl есть следующие свойства:
* __SortRunners__ отвечает за сортировку элементов в дереве и в списке:
    *	_true_ - алфавитный порядок
    *	_false_ - без сортировки, порядок совпадает с порядком задания в Flexberry
* __ViewMode__ отвечает за тип отображения элементов списка (иконки, список, таблица)
* __Font__ отвечает за шрифт элементов в дереве и в списке

{% include note.html content="Подробнее о контроле рабочего стола можно посмотреть [здесь](fw_objectlistview-in-desktop-ctrl.html)" %}

## Web-приложение
В Web-приложении рабочий стол превращается в набор ссылок в меню SiteMaster'a.

![](/images/pages/products/flexberry-winforms/desktop/webdesktop.png)

Меню настраивается при помощи [Карты сайта ASP.NET](http://msdn.microsoft.com/ru-ru/library/yy2ykkab%28v=vs.100%29.aspx), по умолчанию используется файл `Web.sitemap` из директории приложения (генерируется системой Flexberry). Настроить карту сайта по умолчанию можно в `Web.config` в разделе `SiteMap`. 

Карта сайта отображается с помощью технологического контрола [IcsTreeView](fa_ics-treeview.html) (данный контрол имеет [ряд полезных настроек отображения](fa_ics-treeview.html)).

__Примечание__: стоит учитывать, что при перегенерации Flexberry ASP.NET через Flexberry, внесенные в файл `Web.sitemap` изменения могут потеряться.

## Сценарии доработки

* [Настройка Стартеров рабочего стола](fd_application.html)
* Добавление собственных форм на рабочий стол ([Win](fw_add-form-to-win-desktop.html), [Web](fa_add-page-web-desktop.html))

## См. также
[Передача параметров от ContRunner до формы редактирования](fw_parameters-from-cont-runner-to-editform.html)

[Ярлыки рабочего стола](fw_win-desktop-links.html)




