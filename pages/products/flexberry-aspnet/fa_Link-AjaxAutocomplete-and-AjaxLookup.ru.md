---
title: Связывание AjaxAutocomplete и AjaxLookup
sidebar: flexberry-aspnet_sidebar
keywords: Flexberry ASP-NET
toc: true
permalink: ru/fa_link-ajax-autocomplete-ajax-lookup.html
folder: products/flexberry-aspnet/
lang: ru
---

# Введение
Имеется возможность привязать AjaxAutocomplete к AjaxLookup. Т.е. при выборе значения в контроле с поддержкой AjaxAutocomplete будет автоматически проставляться значение лукапа, если значение заданного свойства будет найдено в мастеровых объектах, иначе лукапу проставится пустое значение.
''Внимание:'' Не стоит путать это с поддержкой автодополнения в AjaxLookup.
<br />
''Внимание:'' Если вы хотите использовать вычислимое свойство, то не забывайте указывать представление!

# Возможная ситуация

![](/images/pages/img/CaseberryWeb/LinkAutocomplete.PNG)

Допустим, у вас на форме редактирования "Организация" отображаются лукап для мастера "Адрес" и собственное свойство "АдресСтрокой". Вам нужно добавить автодополнение для "АдресСтрокой", значения которые будут браться из "Адрес.АдресПолностью". При совпадении введенного значения и значения мастера в свойстве "Адрес.АдресПолностью" проставится значение лукапа(ссылка на объект). Если вы ввели значение, которого нет в мастеровых значениях, то "АдресСтрокой" просто сохранится, а ссылка на мастера не будет проставлена.

# Пример
```
AjaxAutocomplete.AddLinkedAutocomplete(ctrlАдрес, ctrlАдресСтрокой, typeof(Адрес), "АдресПолностью");
```

(((<msg type=note>Данный код можно расположить в методе `PreApplyToControls` [FormInteractionWeb.ashx?HL=preapplytocontrols#%D0%A1%D1%86%D0%B5%D0%BD%D0%B0%D1%80%D0%B8%D0%B9_%D0%BE%D1%82%D0%BA%D1%80%D1%8B%D1%82%D0%B8%D1%8F_%D1%81%D1%82%D1%80%D0%B0%D0%BD%D0%B8%D1%86%D1%8B_%D1%80%D0%B5%D0%B4%D0%B0%D0%BA%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F_%D1%81%D0%BE_%D1%81%D0%BF%D0%B8%D1%81%D0%BA%D0%B0_2|формы редактирования].</msg>)))

Также, имеется настройка связи между лукапом и полем для ввода. Например, если нужно изменять значение в поле для ввода, если меняется значение в лукапе.

# Пример
```

bool changeValueWithLookup = true;
AjaxAutocomplete.AddLinkedAutocomplete(ctrlАдрес, ctrlАдресСтрокой, typeof(Адрес), "АдресПолностью", changeValueWithLookup);
```


# Пример явного задания ограничения для автодополнения
''Внимание'': Если вы задаете ограничение аякс-лукапу и связываете его с текстовым полем, при этом явно не задавая ограничение на автодополнение, то ограничение на автодополнение возьмется из лукапа.

```

Function licenceFunc = ldef.GetFunction(ldef.funcSQL, "(select count(*) from ЛицензияОрганизации where STORMMainObjectKey = Организация) > 0");
AjaxAutocomplete.AddLinkedAutocomplete(ctrlСоздательГеопункта, ctrlСоздательГеопунктаСтрокой, typeof(Организация), "ОрганизацияПроп",  true, true, licenceFunc);
```
<br />
