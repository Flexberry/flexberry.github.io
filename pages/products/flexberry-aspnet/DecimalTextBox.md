---
title: DecimalTextBox
sidebar: product--sidebar
keywords: Flexberry ASP-NET, Web UI (Контролы)
toc: true
permalink: ru/decimal-text-box.html
folder: product--folder
lang: ru
---

<div style="margin:5px; padding-left:28px; float:right; width:40%; outline:1px solid white;">
<br>
<table border="0" width="100%" bgcolor="#6495ED">
<tbody><tr><td bgcolor="#FFFFFF">
&nbsp;&nbsp;&nbsp;'''Наименование контрола'''

* '''Платформа''': Web.
* '''Предназначение:''' контрол для ввода чисел с десятичным разделителем.
* '''[Ссылка на автодокументацию по данному контролу](http://storm:20013/class_i_c_s_soft_1_1_s_t_o_r_m_n_e_t_1_1_web_1_1_ajax_controls_1_1_decimal_text_box.html)'''.
* '''[Ссылка на тестовые страницы на стенде](http://ru:6158/forms/Controls/DecimalTextBox/)'''.

</td>
</tr></tbody></table></a>
</div>



# Описание
ICSSoft.STORMNET.Web.AjaxControls.DecimalTextBox - это контрол, представляющий собой TextBox, на который наложен фильтр ввода для валидации положительных вещественных чисел в форме десятичной дроби. Работа с ним аналогична работе с обычным TextBox'ом, так как это его наследник. Для разделения целой и дробной части используется точка или запятая.

DecimalTextBox генерируется на форме редактирования, если у свойства объекта выставлен тип Double, Decimal или Single, а так же Nullable-аналоги этих типов. Для этих типов на списковой форме и форме редактирования удаляются незначащие нулей.

При вставке из буфера значений, которые не являются положительными вещественными числами, в контроле отображается "0".

## Свойства
{| border="1"
! Наименование !! Тип !! Описание
|-
| `MaxDecimalPlaces` || `Int` || Максимальное число знаков после десятичного разделителя. Если значение отрицательное, то ограничение на количество знаков после запятой не накладывается.
|}

## Особенности использования
Когда компонент DecimalTextBox используется для отображения вещественных чисел, для которых в базе данных используется тип с фиксированным количеством знаков после запятой (в том числе с 0 знаками после запятой), необходимо устанавливать свойство MaxDecimalPlaces для корректного отображения числа в компоненте. 

На данный момент [DataObject](dataobject.html) не хранит метаданные о количестве знаков после запятой для вещественных типов C#, поэтому при генерации приложений нет возможности автоматизировать инициализацию свойства MaxDecimalPlaces.

Если не инициализировать свойство MaxDecimalPlaces в указанном выше случае, то на форме редактирования после изменения свойств существующего объекта данных в компоненте DecimalTextBox и последующего сохранения данных без закрытия формы, вещественное число может отображаться не корректно - отображаемое количество знаков после запятой может не соответствовать тому количеству знаков, которое указано для соответствующего типа в базе данных (отображаться будет то значение, которое ввел пользователь перед сохранением). При добавлении нового объекта данных такого поведения не наблюдается, поскольку выполняется дополнительный запрос к серверу для получения значения первичного ключа у нового объекта данных, в результате чего происходит повторное считывание объекта данных перед отображением на форме (при этом значения полей отображаются так, как они хранятся в базе данных).

Возможно, в будущих версиях Flexberry Designer появится возможность указывать и хранить количество знаков после запятой для вещественных типов C# на уровне метаданных, тогда необходимость в ручной установке свойства MaxDecimalPlaces отпадет.



 