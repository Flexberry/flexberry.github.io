---
title: Добработка модели предметной области
sidebar: guide-practical-guides_sidebar
keywords: guide, ember-flexberry, flexberry ember, flexberry designer, стадия, диаграмма классов
toc: true
permalink: ru/gpg_setting-language-and-structure.html
lang: ru
---

{% include important.html content="Данное практическое руководство является продолжением [Практического руководства по созданию UML-диаграмм](gpg_practical-guides-uml.html)." %}

Перед началом работы с Flexberry Ember необходимо разобраться с особенностями выбора языка для именования классов и прочих элементов модели предметной области.

Часто для именования объектов данных и прочих элементов модели предметной области используется преимущественно русский язык. Данный подход удобен с точки зрения восприятия для аналитиков и разработчиков, которые работают с моделью. Однако при разработке приложений на Flexberry Ember рекомендовано использовать английский язык для именования тех элементов модели, с которыми работает разработчик.

Данное требование обусловлено не только сложившейся практикой программирования на языке JavaScript ([именование переменных в JavaScript](https://learn.javascript.ru/variables#variable-naming)), но и дополнительными особенностями при работе с Flexberry Ember. Во-первых, возможна ситуация, в которой определенный код фреймворка Ember.js может некорректно работать из-за наличия кириллицы в именах. Во-вторых, ряд браузеров могут работать нестабильно, если в серверном API присутствует кириллица. В связи с этим, прежде чем приступить к дальнейшим шагам практического руководства, следует перевести модель предметной области на английский язык.

Дополнительно с общими рекомендациями по именованию переменных на языке JavaScript можно ознакомиться [тут](https://learn.javascript.ru/variable-names).

## Копирование проекта

Для сохранения исходной модели рекомендуется продублировать проект: открыть проект (до уровня стадии, если имеет сложную структуру) → слева выбрать "Настройка" → в разделе "Действия с проектом" выбрать "Я хочу выполнить Экспорт проекта".

![Экспорт проекта](/images/pages/guides/flexberry-ember/1-setting-language-and-structure/1.png)

В итоге будет загружен архив проекта. Далее сохраненный проект, предварительно разархевированный, можно загрузить, создав новый прооект (или новую стадию, если проект имеет сложную структуру). В разделе "Все проекты" выбрать "Создать проект", далее написать его название и по кнопке "Выбрать файлы" выбрать файл сохраненного проекта.

![Импорт проекта](/images/pages/guides/flexberry-ember/1-setting-language-and-structure/2.png)

Сохранить копию проекта можно под названием **Склад (ember)**.

## Переименование классов и атрибутов

Классы можно переименовать вручную, для этогодиаграмму нужно открыть на редактирование (Диаграммы → открыть диаграмму → Правка → выделить класс → нажать "Открыть форму редактирования свойств" (шестереннка на форме класса) → переименовать класс и сменить название полей), но можно выполнить транслитерацию для всего проекта одновременно.
Это возможно на форме настроек проекта в разделе "Действия с проектом".

![Транслитерация](/images/pages/guides/flexberry-ember/1-setting-language-and-structure/3.png)

{% include warning.html content="При перименовании классов следует избегать [ключевых слов языка JavaScript](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Lexical_grammar#%D0%9A%D0%BB%D1%8E%D1%87%D0%B5%D0%B2%D1%8B%D0%B5_%D1%81%D0%BB%D0%BE%D0%B2%D0%B0), а также \"стандартных\" имен из [объектной модели Ember.js](https://api.emberjs.com/ember/3.1), в качестве имен классов (например, если класс Склад назвать не Storehouse, а Store, то при запуске Ember-приложения может возникнуть конфликт с именем сервиса store из библиотеки Ember Data в соответствующих частях кода)." %}

**В результате** данного шага должна получиться следующая диаграмма:

![Диаграмма с английскими именами классов](/images/pages/guides/flexberry-ember/1-setting-language-and-structure/4.png)

Тем не менее, пользователь должен видеть названия на русском языке. Это возможно, если прописать для каждого атрибута заголовок на форме редактирования класса: открыть диаграмму на редактирование ("Правка") → нажать "Открыть форму редактирования свойств" (шестереннка на форме класса) → в разделе "Атрибуты" в столбце "Заголовок" прописать заголовки для атрибутов. Проверить, что заголовки самих классов остались на русском языке (поле "Заголовок" под названием класса).

![Настройка заголовков](/images/pages/guides/flexberry-ember/1-setting-language-and-structure/5.png)

Если классы изначально названы на английском языке, следует указывать их русскоязычное значение в поле "Заголовок".

{% include warning.html content="Если для классов ранее были определены представления, включающие переименованные атрибуты, то необходимо также исправить и соответствующие представления. Более подробно в следующих разделах." %}

**_Самостоятельно_** прописать заголовки для всех атрибутов для каждого класса диаграммы.

## Переименование ролей ассоциаций

Роли для ассоциаций класса "Сотрудник", связывающих его с другими классами, так же изменены при транслитерации.

## Локализация перечислений

Классы со стереотипом "enumeration" представляют собой особый тип данных - это фиксированный набор значений, который указывается для свойств различных классов. При тарнслитерации они также записываются латиницей.

## Доработка структуры модели

Необходимо уточнить диаграмму классов, чтобы она более точно описывала предметную область:

(1) Добавить поле Weight (или Ves) типа double в класс Product (Tovar)

![Новое поле](/images/pages/guides/flexberry-ember/1-setting-language-and-structure/8.png)

Это поле необходимо для того, чтобы описать вес единицы конкретного товара. Таким образом, вес в строке накладной может далее быть автоматически рассчитан на основании веса единицы товара и его количества.

(2) Создадть перечисление PositionList (тип enumeration) со значениями:

> Кладовщик → Storekeeper  
> Менеджер → Manager

![Добавление перечисления](/images/pages/guides/flexberry-ember/1-setting-language-and-structure/9.png)

Материально ответственными лицами будут являться кладовщики.

(3) Добавить поле **Position** (в значении должность) типа **PositionList** в класс Employee (Сотрудник)

![Новое поле](/images/pages/guides/flexberry-ember/1-setting-language-and-structure/10.png)

Оно необходимо, так как конкретного сотрудника принимают на конкретную должность. Это следует учитывать, чтобы в дальнейшем фильтровать список сотрудников по их должности.

## Итог

В результате всех изменений диаграмма классов должна принять следующий вид:

![Итог переименования и дораоботки структуры модели](/images/pages/guides/flexberry-ember/1-setting-language-and-structure/11.png)

Выбор способа именования устанавливается руководителем проекта или ведущим разработчиком и является единым для всей команды.

## Перейти

- [Практическое руководство «Делай как я»](gpg_landing-page.html) <i class="fa fa-arrow-up" aria-hidden="true"></i>
- [Создание представлений, классов форм и класса приложения](gpg_create-and-configure-application-structure.html) <i class="fa fa-arrow-right" aria-hidden="true"></i>
