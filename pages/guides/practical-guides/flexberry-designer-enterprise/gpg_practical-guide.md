---
title: Практическое руководство по созданию приложения в Flexberry Designer Enterprise
sidebar: guide-practical-guides_sidebar
keywords: guide, flexberry designer enterprise, enterprise, стадия, редактор, диаграмма классов, создание диаграммы
toc: true
permalink: ru/gpg_practical-guide.html
lang: ru
---

## Подготовительный этап

1. Получить [лицензию на Flexberry Designer Enterprise](https://designer.flexberry.net/#/download-win-app). После получения лицензии будет открыт доступ к проектам.
2. Открыть [Flexberry Designer Enterprise](https://designer.flexberry.net/#/). Нажать `Все проекты`, нажать кнопку `Создать проект`, заполнить необходимую информацию о проекте и нажать кнопку `Создать проект`.

## Создание диаграммы классов

Перед выполнением задания рекомендуется ознакомиться со следующими статьями:

* [Редактор - общая информация](gpg_editor-guide.md);
* [Диаграмма классов (теория)](gpg_class-diagram.ru.md).

### Пример создания приложения

Цель приложения - хранение информации обо всех сотрудниках, работающих в офисах компании.

1. Создать диаграмму классов:

   * перейдите на страницу `Диаграммы` в левой панели;
   * нажмите кнопку `Создать диаграмму` -> `Диаграмма классов`;
   * откроется редактор диаграмм, напишите название диаграммы в поле `Введите имя` -> сохраните диаграмму.

2. Создать классы:

   * `Building` (здание)
   * `Room` (комната)
   * `Employee` (сотрудник)

3. Добавить атрибуты:

   Кликнуть на класс -> затем на синюю шестерёнку в правом верхнем углу выбранного класса. Откроется меню редактирования данного класса.

   * `Building`(здание): `Name` (название) тип `string`, `Address` (адрес) тип `string`,
   * `Room` (комната): `Number` (номер) тип `int`
   * `Employee` (сотрудник): `FirstName` (имя) тип `string`, `LastName` (фамилия) тип `string`, `Patronymic` (отчество) тип `string`, `BirthDate` (дата рождения) тип `DateTime`

4. Добавить следующие связи:

   * `Комната` - `Сотрудник` (ассоциация 1 - *)
   * `Здание` - `Комната` -  (композиция 1 - *)

Должна получиться следующая модель:

![модель](/images/pages/guides/flexberry-designer-enterprise/practical-guide-model.png)

## Подготовка проекта к первой генерации

1. Открыть вкладку `Настройка`, задать **кодовое имя** проекта (например _MyApp_).
Кодовое имя используется для генерации пространства имён (`namespace`), поэтому оно должно быть коротким и уникальным. Чаще всего используют акронимы ("Информационная система управления поставками" -> ИСУП -> `Isup`).
2. Открыть вкладку `Навигация`, нажать кнопку `Создать представления, формы и приложение`. Будут сгенерированы `L` и `E формы`, `L` и `E представления`, объект `application`. Генерация приложения невозможна без объекта `application`.
3. После завершения генерации объектов рекомендуется настроить структуру меню на вкладке `Навигация`. Структура, заданная на этой вкладке, изменит сайдбар сгенерированного приложения. Доступно изменение заголовков ссылок, создание новых корневых папок, смена порядка следования элементов _(необходим режим редактирования)_.

## Генерация приложения

1.[Установить Flexberry CLI](gpg_flexberry-cli.md).
2.Перейти на вкладку `Генерация`. Задать следующие настройки и снять остальные галочки:

   * `Ember JS` -> `Генерировать всё`;
   * `Backend` -> `AspNetCore`;
   * `PostgreSQL` -> `Сгенерировать SQL`.

3.Нажать `Генерировать`.

Для генерации `Ember JS` потребуется:

* [Node.JS v12](https://nodejs.org/dist/latest-v12.x) (_node-v12.22.12-x64.msi_)
* Ember CLI v3.1.4 (`npm i -g ember-cli@3.1.4`)
* Менеджер пакетов Yarn (`npm i -g yarn`)
* Bower (`npm i -g bower`)

Приложение будет сгенерировано в папку `src`. Фронтенд находится в папке `ember-app`, бекенд - `MyApp`, скрипт создания структуры таблиц БД - `SQL/PostgreSql.create.sql`.

## Создание базы данных

Для работы приложения требуется иметь работающую базу данных:

1.Установить:

   * [PostgreSQL v10+](https://www.postgresql.org/download)
   * [PgAdmin 4](https://www.pgadmin.org/download/)

2.Подключиться к локальному серверу через PgAdmin 4 (правый клик по `Серверы` -> `Добавить` -> адрес: `localhost`; порт `5432`; логин `postgres`; пароль `postgres`)
3.Создать новую БД на локальном сервере (правый клик по подключению -> `Создать` -> `База данных`). Дайте ей имя `my-app-db`.
4.Создать таблицы. Для этого запустить скрипт `SQL/PostgreSql.create.sql` на созданной базе: правый клик по БД `my-app-db` в списке `Базы данных` -> `Query Tool` -> скопируйте содержимое файла в редактор и нажмите F5.

Для _командной разработки_ рекомендуется использовать [Liquibase](https://flexberry.github.io/ru/gbt_liquibase.html) - библиотеку с открытым исходным кодом для отслеживания, управления и применения изменений схемы базы данных.

## Запуск приложения

Перед запуском приложения требуется:

* задать адрес базы данных - изменить значение параметра `DefConnStr` в файлах `/src/MyApp/ODataBackend/appsettings.json` и `/src/MyApp/ODataBackend/Properties/launchSettings.json` на следующее:

 `SERVER=localhost;User ID=postgres;Password=postgres;Port=5432;database=my-app-db;`,

* установить адрес бекенда - изменить все значения параметра `backendUrl` в файле `/src/ember-app/config/environment.js` на `http://localhost:6500`.

Для работы с приложением необходимо выполнить следующие шаги:

* запустить фронтенд с помощью команды `ember serve` в папке `src/ember-app`,
* запустить бекенд с помощью `Visual Studio`, открыв файл `.sln` и запустив проект ODataBackend,
* открыть приложение по адресу `http://localhost:4200`.

Если всё было выполнено верно, откроется приложение:

![Приложение](/images/pages/guides/flexberry-designer-enterprise/practical-guide-result.png)

## Перейти

* [Практическое руководство  «Делай как я»](gpg_landing-page.html) <i class="fa fa-arrow-up" aria-hidden="true"></i>
