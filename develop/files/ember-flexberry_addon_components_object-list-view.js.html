<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>ember-flexberry/addon/components/object-list-view.js - Flexberry Documentation</title>
    <link rel="stylesheet" href="">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="stylesheet" href="../assets/css/custom.css">
    <link rel="stylesheet" href="../assets/vendor/bootstrap/css/bootstrap.css">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
</head>
<body class="yui3-skin-sam">
<div class="navbar navbar-fixed-top">
    <div class="navbar-inner">
        <h1 class="brand" style="padding: 10px 16px 10px; height: 20px; line-height: 20px; margin-left: 0;">
	    <img alt="Flexberry Documentation" src="../assets/css/logo.png" style="max-height: 65%;" title="Flexberry Documentation">
            Flexberry Documentation
        </h1>
	<div class="nav">
            <li class="divider-vertical"></li>
            <li>
                <p class="navbar-text">
                    API Docs for Version: <b>develop</b>
                </p>
            </li>
        </div>
        <form class="navbar-form pull-right" style="line-height: 40px; height: 40px;">
            <input style="margin-top: 0;" type="text" class="search-query" placeholder="Search for classes/modules..." data-obj='["classes/DetailEditFormController", "classes/DetailInterationService", "classes/DeviceService", "classes/EditFormController", "classes/EditFormRoute", "classes/EnumNumberTransform", "classes/EnumStringTransform", "classes/FileTransform", "classes/FlexberrCheckboxComponent", "classes/FlexberryBaseComponent", "classes/FlexberryDatetimePicker", "classes/FlexberryDropDown", "classes/FlexberryField", "classes/FlexberryFile", "classes/FlexberryFileController", "classes/FlexberryGroupedit", "classes/FlexberryLookup", "classes/FlexberryLookupCompatibleComponentMixin", "classes/FlexberryMenuComponent", "classes/FlexberryMenuitemComponent", "classes/FlexberryObjectlistview", "classes/FlexberrySimpledatetime", "classes/FlexberryTextarea", "classes/FlexberryTextbox", "classes/FlexberryToggler", "classes/FlexberryValidationmessage", "classes/FlexberryValidationsummary", "classes/GroupEditToolbar", "classes/isEnum", "classes/ListFormController", "classes/ListFormRoute", "classes/ModalDialog", "classes/ObjectListView", "classes/ObjectListViewCell", "classes/ObjectlistviewEvents", "classes/ObjectListViewHeaderCell", "classes/ObjectListViewSingleColumnCell", "classes/Projection", "classes/Projection.Adapter", "classes/Projection.Model", "classes/Projection.Store", "classes/Resolver", "modules/ember-flexberry", "modules/ember-flexberry-projections"]'>
        </form>
    </div>
</div>
<div class="container">
    <div class="row">
        <div class="span3">
	    <div>
	        <h3>APIs</h3>
	        <div id="sidebar">
	            <ul id="main-nav" class="nav nav-tabs" style="margin-bottom:0;">
	                <li class="active"><a href="#classes" data-toggle="tab">Classes</a></li>
	                <li><a href="#modules" data-toggle="tab">Modules</a></li>
	            </ul>
	    
	            <div id="api-tabview-filter">
	                <input type="search" placeholder="Type to filter APIs">
	            </div>
	    
	            <div class="tab-content" style="border: 1px solid #DDD; border-top:0;">
	                <div class="tab-pane active" id="classes">
	                    <ul id="api-classes" class="nav nav-list">
	                            <li><a href="../classes/DetailEditFormController.html">DetailEditFormController</a></li>
	                            <li><a href="../classes/DetailInterationService.html">DetailInterationService</a></li>
	                            <li><a href="../classes/DeviceService.html">DeviceService</a></li>
	                            <li><a href="../classes/EditFormController.html">EditFormController</a></li>
	                            <li><a href="../classes/EditFormRoute.html">EditFormRoute</a></li>
	                            <li><a href="../classes/EnumNumberTransform.html">EnumNumberTransform</a></li>
	                            <li><a href="../classes/EnumStringTransform.html">EnumStringTransform</a></li>
	                            <li><a href="../classes/FileTransform.html">FileTransform</a></li>
	                            <li><a href="../classes/FlexberrCheckboxComponent.html">FlexberrCheckboxComponent</a></li>
	                            <li><a href="../classes/FlexberryBaseComponent.html">FlexberryBaseComponent</a></li>
	                            <li><a href="../classes/FlexberryDatetimePicker.html">FlexberryDatetimePicker</a></li>
	                            <li><a href="../classes/FlexberryDropDown.html">FlexberryDropDown</a></li>
	                            <li><a href="../classes/FlexberryField.html">FlexberryField</a></li>
	                            <li><a href="../classes/FlexberryFile.html">FlexberryFile</a></li>
	                            <li><a href="../classes/FlexberryFileController.html">FlexberryFileController</a></li>
	                            <li><a href="../classes/FlexberryGroupedit.html">FlexberryGroupedit</a></li>
	                            <li><a href="../classes/FlexberryLookup.html">FlexberryLookup</a></li>
	                            <li><a href="../classes/FlexberryLookupCompatibleComponentMixin.html">FlexberryLookupCompatibleComponentMixin</a></li>
	                            <li><a href="../classes/FlexberryMenuComponent.html">FlexberryMenuComponent</a></li>
	                            <li><a href="../classes/FlexberryMenuitemComponent.html">FlexberryMenuitemComponent</a></li>
	                            <li><a href="../classes/FlexberryObjectlistview.html">FlexberryObjectlistview</a></li>
	                            <li><a href="../classes/FlexberrySimpledatetime.html">FlexberrySimpledatetime</a></li>
	                            <li><a href="../classes/FlexberryTextarea.html">FlexberryTextarea</a></li>
	                            <li><a href="../classes/FlexberryTextbox.html">FlexberryTextbox</a></li>
	                            <li><a href="../classes/FlexberryToggler.html">FlexberryToggler</a></li>
	                            <li><a href="../classes/FlexberryValidationmessage.html">FlexberryValidationmessage</a></li>
	                            <li><a href="../classes/FlexberryValidationsummary.html">FlexberryValidationsummary</a></li>
	                            <li><a href="../classes/GroupEditToolbar.html">GroupEditToolbar</a></li>
	                            <li><a href="../classes/isEnum.html">isEnum</a></li>
	                            <li><a href="../classes/ListFormController.html">ListFormController</a></li>
	                            <li><a href="../classes/ListFormRoute.html">ListFormRoute</a></li>
	                            <li><a href="../classes/ModalDialog.html">ModalDialog</a></li>
	                            <li><a href="../classes/ObjectListView.html">ObjectListView</a></li>
	                            <li><a href="../classes/ObjectListViewCell.html">ObjectListViewCell</a></li>
	                            <li><a href="../classes/ObjectlistviewEvents.html">ObjectlistviewEvents</a></li>
	                            <li><a href="../classes/ObjectListViewHeaderCell.html">ObjectListViewHeaderCell</a></li>
	                            <li><a href="../classes/ObjectListViewSingleColumnCell.html">ObjectListViewSingleColumnCell</a></li>
	                            <li><a href="../classes/Projection.html">Projection</a></li>
	                            <li><a href="../classes/Projection.Adapter.html">Projection.Adapter</a></li>
	                            <li><a href="../classes/Projection.Model.html">Projection.Model</a></li>
	                            <li><a href="../classes/Projection.Store.html">Projection.Store</a></li>
	                            <li><a href="../classes/Resolver.html">Resolver</a></li>
	                    </ul>
	                </div>
	    
	                <div class="tab-pane" id="modules">
	                    <ul id="api-modules" class="nav nav-list">
	                            <li><a href="../modules/ember-flexberry.html">ember-flexberry</a></li>
	                            <li><a href="../modules/ember-flexberry-projections.html">ember-flexberry-projections</a></li>
	                    </ul>
	                </div>
	            </div>
	        </div>
	    </div>
        </div>
        <div class="span9">
                <form id="options-form" class="form-inline pull-right">
                    Show:
                    <label for="api-show-inherited" class="checkbox">
                        <input type="checkbox" id="api-show-inherited" checked>
                        Inherited
                    </label>
            
                    <label for="api-show-protected" class="checkbox">
                        <input type="checkbox" id="api-show-protected">
                        Protected
                    </label>
            
                    <label for="api-show-private" class="checkbox">
                        <input type="checkbox" id="api-show-private">
                        Private
                    </label>
                    <label for="api-show-deprecated" class="checkbox">
                        <input type="checkbox" id="api-show-deprecated">
                        Deprecated
                    </label>
            
                </form>
            
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
<div class="page-header">
    <h1>ember-flexberry/addon/components/object-list-view.js <small>File</small></h1>
</div>

<div class="file">
    <pre class="prettyprint linenums">
/**
 * @module ember-flexberry
 */

import Ember from &#x27;ember&#x27;;
import FlexberryBaseComponent from &#x27;./flexberry-base-component&#x27;;
import FlexberryLookupCompatibleComponentMixin from &#x27;../mixins/flexberry-lookup-compatible-component&#x27;;
import ErrorableMixin from &#x27;../mixins/errorable-controller&#x27;;

/**
 * Object list view component.
 *
 * @class ObjectListView
 * @extends FlexberryBaseComponent
 */
export default FlexberryBaseComponent.extend(FlexberryLookupCompatibleComponentMixin, ErrorableMixin, {
  actions: {
    rowClick: function(key, record) {
      if (this.get(&#x27;readonly&#x27;)) {
        return;
      }

      if (this.rowClickable) {
        if (this.get(&#x27;editOnSeparateRoute&#x27;) !== true) {
          // It is necessary only when we will not go to other route on click.
          this.set(&#x27;selectedRecord&#x27;, record);
          this._setActiveRecord(key);
        }

        this.sendAction(&#x27;action&#x27;, record);
      }
    },

    headerCellClick: function(column, event) {
      if (!this.headerClickable || column.sortable === false) {
        return;
      }

      var action = event.ctrlKey ? &#x27;addColumnToSorting&#x27; : &#x27;sortByColumn&#x27;;
      this.sendAction(action, column);
    },

    // TODO: rename recordWithKey. rename record in the template, where it is actually recordWithKey.
    deleteRow: function(recordWithKey) {
      if (this.get(&#x27;readonly&#x27;) || !recordWithKey.config.canBeDeleted) {
        return;
      }

      if (confirm(&#x27;Do you really want to delete this record?&#x27;)) {
        this._deleteRecord(recordWithKey.data, this.get(&#x27;immediateDelete&#x27;));
      }
    },

    selectRow: function(key, record, e) {
      var selectedRecords = this.get(&#x27;selectedRecords&#x27;);
      var selectedRow = this._getRowByKey(key);

      if (e.checked) {
        if (!selectedRow.hasClass(&#x27;active&#x27;)) {
          selectedRow.addClass(&#x27;active&#x27;);
        }

        if (selectedRecords.indexOf(record) === -1) {
          selectedRecords.pushObject(record);
        }
      } else {
        if (selectedRow.hasClass(&#x27;active&#x27;)) {
          selectedRow.removeClass(&#x27;active&#x27;);
        }

        selectedRecords.removeObject(record);
      }

      var componentName = this.get(&#x27;componentName&#x27;);
      this.get(&#x27;objectlistviewEventsService&#x27;).rowSelectedTrigger(componentName, record, selectedRecords.length);
    },

    menuInRowItemClick: function(key, record, e) {
      if (this.get(&#x27;readonly&#x27;)) {
        return;
      }

      if (e.item.isDeleteItem) {
        this.send(&#x27;deleteRow&#x27;, key, record);
        return;
      }

      if (e.item.isEditItem) {
        this.send(&#x27;rowClick&#x27;, key, record);
        return;
      }

      // Call onClick handler if it is specified in the given menu item.
      if (e.item &amp;&amp; Ember.typeOf(e.item.onClick) === &#x27;function&#x27;) {
        e.modelKey = key;
        e.model = record;

        e.item.onClick.call(e.currentTarget, e);
      }
    }
  },

  /**
   * Table row click action name.
   *
   * @property action
   * @type String
   * @default &#x27;rowClick&#x27;
   * @readonly
   */
  action: &#x27;rowClick&#x27;,

  /**
   * Table add column to sorting action name.
   *
   * @property addColumnToSorting
   * @type String
   * @default &#x27;addColumnToSorting&#x27;
   * @readonly
   */
  addColumnToSorting: &#x27;addColumnToSorting&#x27;,

  /**
   * Table sort by column action name.
   *
   * @property sortByColumn
   * @type String
   * @default &#x27;sortByColumn&#x27;
   * @readonly
   */
  sortByColumn: &#x27;sortByColumn&#x27;,

  /**
   * Override wrapping element&#x27;s tag.
   */
  tagName: &#x27;div&#x27;,

  /**
   * Component&#x27;s CSS classes.
   */
  classNames: [&#x27;object-list-view-container&#x27;],

  /**
   * Path to component&#x27;s settings in application configuration (JSON from ./config/environment.js).
   *
   * @property appConfigSettingsPath
   * @type String
   * @default &#x27;APP.components.flexberryBaseComponent&#x27;
   */
  appConfigSettingsPath: &#x27;APP.components.objectListView&#x27;,

  /**
   * Default cell component that will be used to display values in columns headers.
   *
   * @property {Object} headerCellComponent
   * @property {String} [headerCellComponent.componentName=&#x27;object-list-view-header-cell&#x27;]
   * @property {String} [headerCellComponent.componentProperties=null]
   */
  headerCellComponent: {
    componentName: &#x27;object-list-view-header-cell&#x27;,
    componentProperties: null
  },

  /**
   * Default cell component that will be used to display values in columns cells.
   *
   * @property {Object} cellComponent
   * @property {String} [cellComponent.componentName=&#x27;object-list-view-cell&#x27;]
   * @property {String} [cellComponent.componentProperties=null]
   */
  cellComponent: {
    componentName: &#x27;object-list-view-cell&#x27;,
    componentProperties: null
  },

  /**
   * Default cell component that will be used to display values in single column.
   *
   * @property {Object} singleColumnCellComponent
   * @property {String} [singleColumnCellComponent.componentName=&#x27;object-list-view-single-column-cell&#x27;]
   * @property {String} [singleColumnCellComponent.componentProperties=null]
   */
  singleColumnCellComponent: {
    componentName: &#x27;object-list-view-single-column-cell&#x27;,
    componentProperties: null
  },

  /**
   * Flag: indicates whether to use single column to display all model properties or not.
   *
   * @property useSingleColumn
   * @type Boolean
   * @default false
   */
  useSingleColumn: false,

  /**
   * Header title of single column.
   *
   * @property singleColumnHeaderTitle
   * @type String
   */
  singleColumnHeaderTitle: undefined,

  /**
   * Flag: indicates whether to show asterisk icon in first column of every changed row.
   *
   * @property showAsteriskInRow
   * @type Boolean
   * @default false
   */
  showAsteriskInRow: false,

  /**
   * Flag: indicates whether to show checkbox in first column of every row.
   *
   * @property showCheckBoxInRow
   * @type Boolean
   * @default false
   */
  showCheckBoxInRow: false,

  /**
   * Flag: indicates whether to show delete button in first column of every row.
   *
   * @property showDeleteButtonInRow
   * @type Boolean
   * @default false
   */
  showDeleteButtonInRow: false,

  /**
   * Flag: indicates whether to show helper column or not.
   *
   * @property showHelperColumn
   * @type Boolean
   * @readonly
   */
  showHelperColumn: Ember.computed(&#x27;showAsteriskInRow&#x27;, &#x27;showCheckBoxInRow&#x27;, &#x27;showDeleteButtonInRow&#x27;, function() {
    return this.get(&#x27;showAsteriskInRow&#x27;) || this.get(&#x27;showCheckBoxInRow&#x27;) || this.get(&#x27;showDeleteButtonInRow&#x27;);
  }),

  /**
   * Flag: indicates whether to show dropdown menu with edit menu item, in last column of every row.
   *
   * @property showEditMenuItemInRow
   * @type Boolean
   * @default false
   */
  showEditMenuItemInRow: false,

  /**
   * Flag: indicates whether to show dropdown menu with delete menu item, in last column of every row.
   *
   * @property showDeleteMenuItemInRow
   * @type Boolean
   * @default false
   */
  showDeleteMenuItemInRow: false,

  /**
   * Additional menu items for dropdown menu in last column of every row.
   *
   * @property menuInRowAdditionalItems
   * @type boolean
   * @default null
   */
  menuInRowAdditionalItems: null,

  /**
   * Flag: indicates whether additional menu items for dropdown menu in last column of every row are defined.
   *
   * @property menuInRowHasAdditionalItems
   * @type Boolean
   * @readonly
   */
  menuInRowHasAdditionalItems: Ember.computed(&#x27;menuInRowAdditionalItems.[]&#x27;, function() {
    var menuInRowAdditionalItems = this.get(&#x27;menuInRowAdditionalItems&#x27;);
    return Ember.isArray(menuInRowAdditionalItems) &amp;&amp; menuInRowAdditionalItems.length &gt; 0;
  }),

  /**
   * Flag: indicates whether to show menu column or not.
   *
   * @property showMenuColumn
   * @type Boolean
   * @readonly
   */
  showMenuColumn: Ember.computed(
    &#x27;showEditMenuItemInRow&#x27;,
    &#x27;showDeleteMenuItemInRow&#x27;,
    &#x27;menuInRowHasAdditionalItems&#x27;,
    function() {
      return this.get(&#x27;showEditMenuItemInRow&#x27;) || this.get(&#x27;showDeleteMenuItemInRow&#x27;) || this.get(&#x27;menuInRowHasAdditionalItems&#x27;);
    }
  ),

  /**
   * Menu items for dropdown menu in last column of every row.
   *
   * @property menuInRowItems
   * @type Object[]
   * @readonly
   */
  menuInRowItems: Ember.computed(
    &#x27;showEditMenuItemInRow&#x27;,
    &#x27;showDeleteMenuItemInRow&#x27;,
    &#x27;menuInRowHasAdditionalItems&#x27;,
    function() {
      var menuInRowSubItems = [];
      if (this.get(&#x27;showEditMenuItemInRow&#x27;)) {
        menuInRowSubItems.push({
          icon: &#x27;edit icon&#x27;,
          title: this.get(&#x27;i18n&#x27;).t(&#x27;object-list-view.menu-in-row.edit-menu-item-title&#x27;) || &#x27;Edit record&#x27;,
          isEditItem: true
        });
      }

      if (this.get(&#x27;showDeleteMenuItemInRow&#x27;)) {
        menuInRowSubItems.push({
          icon: &#x27;trash icon&#x27;,
          title: this.get(&#x27;i18n&#x27;).t(&#x27;object-list-view.menu-in-row.delete-menu-item-title&#x27;) || &#x27;Delete record&#x27;,
          isDeleteItem: true
        });
      }

      if (this.get(&#x27;menuInRowHasAdditionalItems&#x27;)) {
        menuInRowSubItems.push(...this.get(&#x27;menuInRowAdditionalItems&#x27;));
      }

      return [{
        icon: &#x27;list layout icon&#x27;,
        itemsAlignment: &#x27;left&#x27;,
        items: menuInRowSubItems
      }];
    }
  ),

  /**
   * Model projection which should be used to display given content.
   *
   * @property modelProjection
   * @type Object
   * @default null
   */
  modelProjection: null,

  /**
   * Table columns related to current model projection.
   *
   * @property columns
   * @type Object[]
   * @readonly
   */
  columns: Ember.computed(&#x27;modelProjection&#x27;, function() {
    var projection = this.get(&#x27;modelProjection&#x27;);
    if (!projection) {
      throw new Error(&#x27;No projection was defined.&#x27;);
    }

    let cols = this._generateColumns(projection.attributes);
    return cols;
  }),

  /**
   * Total columns count (including additional columns).
   *
   * @property columnsCount
   * @type Number
   * @readonly
   */
  colspan: Ember.computed(&#x27;columns.length&#x27;, &#x27;useSingleColumn&#x27;, &#x27;showHelperColumn&#x27;, &#x27;showMenuColumn&#x27;, function() {
    var columnsCount = 0;
    if (this.get(&#x27;showHelperColumn&#x27;)) {
      columnsCount += 1;
    }

    if (this.get(&#x27;showMenuColumn&#x27;)) {
      columnsCount += 1;
    }

    if (this.get(&#x27;useSingleColumn&#x27;)) {
      columnsCount += 1;
    } else {
      var columns = this.get(&#x27;columns&#x27;);
      columnsCount += Ember.isArray(columns) ? columns.length : 0;
    }

    return columnsCount;
  }),

  /**
   * Flag: indicates whether some column contains editable component instead of default cellComponent.
   * @property hasEditableValues
   * @type Boolean
   * @readonly
   */
  hasEditableValues: Ember.computed(&#x27;columns.[]&#x27;, &#x27;columns.@each.cellComponent.componentName&#x27;, function() {
    var columns = this.get(&#x27;columns&#x27;);
    if (!Ember.isArray(columns)) {
      return true;
    }

    var defaultCellCompoinentName = this.get(&#x27;cellComponent.componentName&#x27;);
    return columns.filter(function(column) {
      return column.cellComponent.componentName !== defaultCellCompoinentName;
    }).length &gt; 0;
  }),

  /**
   * Content to be displayed (models collection).
   *
   * @property content
   * @type ManyArray
   * @default null
   */
  content: null,

  /**
   * Array of models from content collection with some synthetic keys related to them.
   *
   * @property contentWithKeys
   * @type Object[]
   * @default null
   */
  contentWithKeys: null,

  /**
   * Flag indicates whether content is defined.
   *
   * @property hasContent
   * @type Boolean
   * @readonly
   */
  hasContent: Ember.computed(&#x27;contentWithKeys.length&#x27;, function() {
    return this.get(&#x27;contentWithKeys.length&#x27;) &gt; 0;
  }),

  /**
   * Message to be displayed in table body, if content is not defined or empty.
   *
   * @property noDataMessage
   * @type String
   */
  noDataMessage: undefined,

  /**
   * Flag: indicates whether table rows are clickable.
   *
   * @property rowClickable
   * @type Boolean
   * @default true
   */
  rowClickable: true,

  /**
   * Flag: indicates whether table headers are clickable.
   *
   * @property headerClickable
   * @type Boolean
   * @default false
   */
  headerClickable: false,

  /**
   * Dictionary with sorting data related to columns.
   *
   * @property sorting
   * @type Object
   */
  sorting: null,

  /**
   * Last selected record.
   *
   * @property selectedRecord
   * @type DS.Model
   */
  selectedRecord: null,

  /**
   * All selected records.
   *
   * @property selectedRecords
   * @type DS.Model[]
   */
  selectedRecords: null,

  /**
   * Custom attributes which will be added to each generated column.
   *
   * @property customColumnAttributes
   * @type Object
   */
  customColumnAttributes: null,

  /**
   * Filter setting.
   *
   * @property filterByAnyMatch
   * @type String
   * @default &#x27;filterByAnyMatch&#x27;
   */
  filterByAnyMatch: &#x27;filterByAnyMatch&#x27;,

  /**
   * Hook for configurate rows.
   *
    Example:
    &#x60;&#x60;&#x60;handlebars
    &lt;!-- app/templates/employees.hbs --&gt;
    {{flexberry-objectlistview
      ...
      configurateRow=(action &#x27;configurateRow&#x27;)
      ...
    }}
    &#x60;&#x60;&#x60;

    &#x60;&#x60;&#x60;js
    // app/controllers/employees.js
    import ListFormController from &#x27;./list-form&#x27;;

    export default ListFormController.extend({
      actions: {
        configurateRow: function(rowConfig, record) {
          rowConfig.canBeDeleted = false;
        }
      }
    });
    &#x60;&#x60;&#x60;
   * @method configurateRow
   * @param {Object} config Settings for row.
                            See {{#crossLink &quot;ObjectListView/defaultRowConfig:property&quot;}}{{/crossLink}}
                            property for details.
   * @param {DS.Model} record The record in row.
   */
  configurateRow: undefined,

  /**
   * Default settings for rows.
   *
   * @property defaultRowConfig
   * @type Object
   * @param {Boolean} [canBeDeleted=true] The row can be deleted.
   * @param {Boolean} [canBeSelected=true] The row can be selected via checkbox.
   */
  defaultRowConfig: {
    canBeDeleted: true,
    canBeSelected: true
  },

  /**
   * Flag: indicates whether DELETE request should be immediately sended to server (on each deleted record) or not.
   *
   * @property immediateDelete
   * @type Boolean
   * @default false
   */
  immediateDelete: false,

  /**
   * Flag: indicates whether records should be edited on separate route.
   *
   * @property editOnSeparateRoute
   * @type Object
   * @default false
   */
  editOnSeparateRoute: false,

  /**
   * Ember data store.
   *
   * @property store
   * @type Service
   */
  store: Ember.inject.service(&#x27;store&#x27;),

  /**
   * Service that triggers objectlistview events.
   *
   * @property objectlistviewEventsService
   * @type Service
   */
  objectlistviewEventsService: Ember.inject.service(&#x27;objectlistview-events&#x27;),

  /**
   * Initializes component.
   */
  init: function() {
    this._super(...arguments);

    this.set(&#x27;selectedRecords&#x27;, Ember.A());
    this.set(&#x27;contentWithKeys&#x27;, Ember.A());

    this.get(&#x27;objectlistviewEventsService&#x27;).on(&#x27;olvAddRow&#x27;, this, this._addRow);
    this.get(&#x27;objectlistviewEventsService&#x27;).on(&#x27;olvDeleteRows&#x27;, this, this._deleteRows);
    this.get(&#x27;objectlistviewEventsService&#x27;).on(&#x27;filterByAnyMatch&#x27;, this, this._filterByAnyMatch);

    this.initProperty({
      propertyName: &#x27;noDataMessage&#x27;,
      defaultValue: this.get(&#x27;i18n&#x27;).t(&#x27;object-list-view.no-data-text&#x27;) || &#x27;No data&#x27;
    });

    this.initProperty({
      propertyName: &#x27;singleColumnHeaderTitle&#x27;,
      defaultValue: this.get(&#x27;i18n&#x27;).t(&#x27;object-list-view.single-column-header-title&#x27;) || &#x27;Model properties&#x27;
    });

    if (this.get(&#x27;content&#x27;)) {
      this.get(&#x27;content&#x27;).forEach((item, index, enumerable) =&gt; {
        this._addModel(item);
      });
    }
  },

  /**
   * Destroys component.
   */
  willDestroy: function() {
    this.get(&#x27;objectlistviewEventsService&#x27;).off(&#x27;olvAddRow&#x27;, this, this._addRow);
    this.get(&#x27;objectlistviewEventsService&#x27;).off(&#x27;olvDeleteRows&#x27;, this, this._deleteRows);

    this._super(...arguments);
  },

  /**
   * Initializes component&#x27;s DOM-related logic.
   */
  didInsertElement: function() {
    this._super(...arguments);

    if (!(this.get(&#x27;showCheckBoxInRow&#x27;) || this.get(&#x27;showDeleteButtonInRow&#x27;))) {
      this.$(&#x27;thead tr th:eq(1)&#x27;).css(&#x27;border-left&#x27;, &#x27;none&#x27;);
      this.$(&#x27;tbody tr&#x27;).find(&#x27;td:eq(1)&#x27;).css(&#x27;border-left&#x27;, &#x27;none&#x27;);
    }

    if (this.rowClickable) {
      var key = this._getModelKey(this.selectedRecord);
      if (key) {
        this._setActiveRecord(key);
      }
    }
  },

  /**
   * Destroys component&#x27;s DOM-related logic.
   */
  willDestroyElement: function() {
    this._super(...arguments);
  },

  _generateColumns: function(attributes, columnsBuf, relationshipPath) {
    columnsBuf = columnsBuf || [];
    relationshipPath = relationshipPath || &#x27;&#x27;;

    for (let attrName in attributes) {
      let currentRelationshipPath = relationshipPath;
      if (!attributes.hasOwnProperty(attrName)) {
        continue;
      }

      let attr = attributes[attrName];
      switch (attr.kind) {
        case &#x27;hasMany&#x27;:
          break;

        case &#x27;belongsTo&#x27;:
          if (!attr.options.hidden) {
            let bindingPath = currentRelationshipPath + attrName;
            if (attr.options.displayMemberPath) {
              bindingPath += &#x27;.&#x27; + attr.options.displayMemberPath;
            } else {
              bindingPath += &#x27;.id&#x27;;
            }

            let column = this._createColumn(attr, bindingPath);
            columnsBuf.push(column);
          }

          currentRelationshipPath += attrName + &#x27;.&#x27;;
          this._generateColumns(attr.attributes, columnsBuf, currentRelationshipPath);
          break;

        case &#x27;attr&#x27;:
          if (attr.options.hidden) {
            break;
          }

          let bindingPath = currentRelationshipPath + attrName;
          let column = this._createColumn(attr, bindingPath);
          columnsBuf.push(column);
          break;

        default:
          throw new Error(&#x60;Unknown kind of projection attribute: ${attr.kind}&#x60;);
      }
    }

    return columnsBuf;
  },

  _createColumn: function(attr, bindingPath) {
    // We get the &#x27;getCellComponent&#x27; function directly from the controller,
    // and do not pass this function as a component attrubute,
    // to avoid &#x27;Ember.Object.create no longer supports defining methods that call _super&#x27; error,
    // if controller&#x27;s &#x27;getCellComponent&#x27; method call its super method from the base controller.
    let currentController = this.get(&#x27;currentController&#x27;);
    let getCellComponent = Ember.get(currentController || {}, &#x27;getCellComponent&#x27;);
    let cellComponent = this.get(&#x27;cellComponent&#x27;);

    if (this.get(&#x27;editOnSeparateRoute&#x27;) !== true &amp;&amp; Ember.typeOf(getCellComponent) === &#x27;function&#x27;) {
      let recordModel =  (this.get(&#x27;content&#x27;) || {}).type || null;
      cellComponent = getCellComponent.call(currentController, attr, bindingPath, recordModel);
    }

    let column = {
      header: attr.caption,
      propName: bindingPath, // TODO: rename column.propName
      cellComponent: cellComponent
    };

    let customColumnAttributesFunc = this.get(&#x27;customColumnAttributes&#x27;);
    if (customColumnAttributesFunc) {
      let customColAttr = customColumnAttributesFunc(attr, bindingPath);
      if (customColAttr &amp;&amp; (typeof customColAttr === &#x27;object&#x27;)) {
        Ember.$.extend(true, column, customColAttr);
      }
    }

    let sortDef;
    let sorting = this.get(&#x27;sorting&#x27;);
    if (sorting &amp;&amp; (sortDef = sorting[bindingPath])) {
      column.sorted = true;
      column.sortAscending = sortDef.sortAscending;
      column.sortNumber = sortDef.sortNumber;
    }

    return column;
  },

  _getRowByKey: function(key) {
    var _this = this;
    var row = null;
    this.$(&#x27;tbody tr&#x27;).each(function() {
      var currentKey = _this.$(this).find(&#x27;td:eq(0) div:eq(0)&#x27;).text().trim();
      if (currentKey === key) {
        row = _this.$(this);
        return false;
      }
    });
    return row;
  },

  _getModelKey: function(record) {
    var modelWithKeyItem = this.get(&#x27;contentWithKeys&#x27;).findBy(&#x27;data&#x27;, record);
    return modelWithKeyItem ? modelWithKeyItem.key : null;
  },

  _removeModelWithKey(key) {
    var itemToRemove = this.get(&#x27;contentWithKeys&#x27;).findBy(&#x27;key&#x27;, key);
    if (itemToRemove) {
      this.get(&#x27;contentWithKeys&#x27;).removeObject(itemToRemove);
    }
  },

  /**
   * Adds detail model to current model, generates unique key for detail model.
   * If record is deleted then &#x60;undefined&#x60; is returned and record isn&#x27;t added to list.
   *
   * @method _addModel
   * @private
   *
   * @param {DS.Model} record Detail model to add to current model.
   * @return {String} Unique key for added record or &#x60;undefined&#x60; if record is deleted.
   */
  _addModel: function(record) {
    if (record.get(&#x27;isDeleted&#x27;)) {
      return undefined;
    }

    var modelWithKey = Ember.Object.create({});
    var key = Ember.guidFor(record);

    modelWithKey.set(&#x27;key&#x27;, key);
    modelWithKey.set(&#x27;data&#x27;, record);

    let rowConfig = Ember.copy(this.get(&#x27;defaultRowConfig&#x27;));
    modelWithKey.set(&#x27;config&#x27;, rowConfig);

    let configurateRow = this.get(&#x27;configurateRow&#x27;);
    if (configurateRow) {
      Ember.assert(&#x27;configurateRow must be a function&#x27;, typeof configurateRow === &#x27;function&#x27;);
      configurateRow(rowConfig, record);
    }

    this.get(&#x27;contentWithKeys&#x27;).pushObject(modelWithKey);

    return key;
  },

  /**
   * Adds row to component and calls click on row action if detail is edited on separate route.
   * This method is triggered on toolbar&#x27;s add batton click.
   *
   * @method _addRow
   * @private
   *
   * @param {String} componentName The name of triggered component.
   */
  _addRow: function(componentName) {
    if (componentName === this.get(&#x27;componentName&#x27;)) {
      var modelName = this.get(&#x27;modelProjection&#x27;).modelName;
      var modelToAdd = this.get(&#x27;store&#x27;).createRecord(modelName, {});
      this.get(&#x27;content&#x27;).addObject(modelToAdd);

      var key = this._addModel(modelToAdd);
      this.get(&#x27;objectlistviewEventsService&#x27;).rowAddedTrigger(componentName, modelToAdd);

      if (this.get(&#x27;editOnSeparateRoute&#x27;) === true) {
        this.send(this.get(&#x27;action&#x27;), key, modelToAdd);
      }
    }
  },

  /**
   * Handler for &quot;delete selected rows&quot; event in objectlistview.
   *
   * @method _deleteRows
   *
   * @param {String} componentName The name of objectlistview component.
   * @param {Boolean} immediately Flag to delete record immediately.
   */
  _deleteRows: function(componentName, immediately) {
    if (componentName === this.get(&#x27;componentName&#x27;)) {
      if (confirm(&#x27;Do you really want to delete selected records?&#x27;)) {
        this.send(&#x27;dismissErrorMessages&#x27;);

        var _this = this;
        var selectedRecords = this.get(&#x27;selectedRecords&#x27;);
        var count = selectedRecords.length;
        selectedRecords.forEach(function(item, index, enumerable) {
          Ember.run.once(this, function() {
            _this._deleteRecord(item, immediately);
          });
        }, this);

        selectedRecords.clear();
        this.get(&#x27;objectlistviewEventsService&#x27;).rowsDeletedTrigger(componentName, count);
      }
    }
  },

  _deleteRecord: function(record, immediately) {
    var key = this._getModelKey(record);
    this._removeModelWithKey(key);

    this._deleteHasManyRelationships(record, immediately).then(() =&gt; {
      return immediately ? record.destroyRecord() : record.deleteRecord();
    }).catch((reason) =&gt; {
      this.rejectError(reason, &#x60;Unable to delete a record: ${record.toString()}.&#x60;);
      record.rollbackAttributes();
    });

    var componentName = this.get(&#x27;componentName&#x27;);
    this.get(&#x27;objectlistviewEventsService&#x27;).rowDeletedTrigger(componentName, record, immediately);
  },

  /**
   * Delete all hasMany relationships in the &#x60;record&#x60;.
   *
   * @method _deleteHasManyRelationships
   * @private
   *
   * @param {DS.Model} record A record with relationships to delete.
   * @param {Boolean} immediately If &#x60;true&#x60;, relationships have been destroyed (delete and save).
   * @return {Promise} A promise that will be resolved when relationships have been deleted.
   */
  _deleteHasManyRelationships: function(record, immediately) {
    let promises = Ember.A();
    record.eachRelationship((name, desc) =&gt; {
      if (desc.kind === &#x27;hasMany&#x27;) {
        record.get(name).forEach((relRecord) =&gt; {
          promises.pushObject(immediately ? relRecord.destroyRecord() : relRecord.deleteRecord());
        });
      }
    });

    return Ember.RSVP.all(promises);
  },

  /**
   * The handler for &quot;filter by any match&quot; event triggered in objectlistview events service.
   *
   * @method _filterByAnyMatch
   * @private
   *
   * @param {String} pattern The pattern to filter objects.
   */
  _filterByAnyMatch: function(componentName, pattern) {
    this.sendAction(&#x27;filterByAnyMatch&#x27;, pattern);
  },

  _setActiveRecord: function(key) {
    var selectedRow = this._getRowByKey(key);
    this.$(&#x27;tbody tr.active&#x27;).removeClass(&#x27;active&#x27;);
    selectedRow.addClass(&#x27;active&#x27;);
  },

  // TODO: why this observer here in olv, if it is needed only for groupedit? And why there is still no group-edit component?
  _rowsChanged: Ember.observer(&#x27;content.@each.dirtyType&#x27;, function() {
    let content = this.get(&#x27;content&#x27;);
    if (content &amp;&amp; content.isAny(&#x27;dirtyType&#x27;, &#x27;updated&#x27;)) {
      var componentName = this.get(&#x27;componentName&#x27;);
      this.get(&#x27;objectlistviewEventsService&#x27;).rowsChangedTrigger(componentName);
    }
  })
});

    </pre>
</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/jquery/jquery-1.8.2.min.js"></script>
<script src="../assets/vendor/bootstrap/js/bootstrap.js"></script>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script src="../assets/js/yuidoc-bootstrap.js"></script>
<script>prettyPrint();</script>
</body>
</html>
